{"version":3,"sources":["retro-achievements.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","noop","isHost","obj","str","toString","isObject","Object","serialize","pairs","key","push","encodeURIComponent","join","parseString","parts","pair","split","len","decodeURIComponent","parseHeader","index","line","field","val","lines","fields","pop","indexOf","slice","toLowerCase","trim","type","shift","params","reduce","Response","req","options","this","xhr","text","method","responseType","responseText","statusText","setStatusProperties","status","header","headers","getAllResponseHeaders","getResponseHeader","setHeaderProperties","body","parseBody","response","Request","url","self","Emitter","_query","_header","on","err","res","parse","original","callback","emit","new_err","request","end","arguments","root","window","getXHR","XMLHttpRequest","location","protocol","ActiveXObject","replace","serializeObject","types","html","json","xml","urlencoded","form","form-data","application/x-www-form-urlencoded","application/json","JSON","stringify","prototype","get","ct","statusType","info","ok","clientError","serverError","error","toError","accepted","noContent","badRequest","unauthorized","notAcceptable","notFound","forbidden","msg","use","fn","timeout","ms","_timeout","clearTimeout","_timer","abort","aborted","set","unset","getHeader","accept","auth","user","pass","btoa","query","name","_formData","FormData","append","attach","file","filename","send","data","_data","_callback","crossDomainError","crossDomain","timeoutError","withCredentials","_withCredentials","onreadystatechange","readyState","timedout","handleProgress","total","percent","loaded","hasListeners","onprogress","upload","setTimeout","open","contentType","setRequestHeader","then","fulfill","reject","head","del","patch","post","put","emitter",2,"mixin","addEventListener","event","_callbacks","once","off","apply","removeListener","removeAllListeners","removeEventListener","callbacks","cb","splice","args","listeners",3,"arr","initial","idx","curr",4,"RetroAchievements","user1","apiKey","baseUrl","api","path","topTenUsers","consoles","gameList","console","gameInfo","game","gameInfoExtended","gameInfoAndUserProgress","g","userRankAndScore","userRecentlyPlayedGames","count","offset","c","userProgress","games","Array","userSummary","recentGames","feedFor","recentActivities","achievementsEarnedOnDay","date","d","achievementsEarnedBetween","start","Date","Math","floor","getTime","superagent"],"mappings":"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","file":"retro-achievements.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n/**\n * Module dependencies.\n */\n\nvar Emitter = require('emitter');\nvar reduce = require('reduce');\n\n/**\n * Root reference for iframes.\n */\n\nvar root = 'undefined' == typeof window\n  ? (this || self)\n  : window;\n\n/**\n * Noop.\n */\n\nfunction noop(){};\n\n/**\n * Check if `obj` is a host object,\n * we don't want to serialize these :)\n *\n * TODO: future proof, move to compoent land\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isHost(obj) {\n  var str = {}.toString.call(obj);\n\n  switch (str) {\n    case '[object File]':\n    case '[object Blob]':\n    case '[object FormData]':\n      return true;\n    default:\n      return false;\n  }\n}\n\n/**\n * Determine XHR.\n */\n\nrequest.getXHR = function () {\n  if (root.XMLHttpRequest\n      && (!root.location || 'file:' != root.location.protocol\n          || !root.ActiveXObject)) {\n    return new XMLHttpRequest;\n  } else {\n    try { return new ActiveXObject('Microsoft.XMLHTTP'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP.6.0'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP.3.0'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP'); } catch(e) {}\n  }\n  return false;\n};\n\n/**\n * Removes leading and trailing whitespace, added to support IE.\n *\n * @param {String} s\n * @return {String}\n * @api private\n */\n\nvar trim = ''.trim\n  ? function(s) { return s.trim(); }\n  : function(s) { return s.replace(/(^\\s*|\\s*$)/g, ''); };\n\n/**\n * Check if `obj` is an object.\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isObject(obj) {\n  return obj === Object(obj);\n}\n\n/**\n * Serialize the given `obj`.\n *\n * @param {Object} obj\n * @return {String}\n * @api private\n */\n\nfunction serialize(obj) {\n  if (!isObject(obj)) return obj;\n  var pairs = [];\n  for (var key in obj) {\n    if (null != obj[key]) {\n      pairs.push(encodeURIComponent(key)\n        + '=' + encodeURIComponent(obj[key]));\n    }\n  }\n  return pairs.join('&');\n}\n\n/**\n * Expose serialization method.\n */\n\n request.serializeObject = serialize;\n\n /**\n  * Parse the given x-www-form-urlencoded `str`.\n  *\n  * @param {String} str\n  * @return {Object}\n  * @api private\n  */\n\nfunction parseString(str) {\n  var obj = {};\n  var pairs = str.split('&');\n  var parts;\n  var pair;\n\n  for (var i = 0, len = pairs.length; i < len; ++i) {\n    pair = pairs[i];\n    parts = pair.split('=');\n    obj[decodeURIComponent(parts[0])] = decodeURIComponent(parts[1]);\n  }\n\n  return obj;\n}\n\n/**\n * Expose parser.\n */\n\nrequest.parseString = parseString;\n\n/**\n * Default MIME type map.\n *\n *     superagent.types.xml = 'application/xml';\n *\n */\n\nrequest.types = {\n  html: 'text/html',\n  json: 'application/json',\n  xml: 'application/xml',\n  urlencoded: 'application/x-www-form-urlencoded',\n  'form': 'application/x-www-form-urlencoded',\n  'form-data': 'application/x-www-form-urlencoded'\n};\n\n/**\n * Default serialization map.\n *\n *     superagent.serialize['application/xml'] = function(obj){\n *       return 'generated xml here';\n *     };\n *\n */\n\n request.serialize = {\n   'application/x-www-form-urlencoded': serialize,\n   'application/json': JSON.stringify\n };\n\n /**\n  * Default parsers.\n  *\n  *     superagent.parse['application/xml'] = function(str){\n  *       return { object parsed from str };\n  *     };\n  *\n  */\n\nrequest.parse = {\n  'application/x-www-form-urlencoded': parseString,\n  'application/json': JSON.parse\n};\n\n/**\n * Parse the given header `str` into\n * an object containing the mapped fields.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parseHeader(str) {\n  var lines = str.split(/\\r?\\n/);\n  var fields = {};\n  var index;\n  var line;\n  var field;\n  var val;\n\n  lines.pop(); // trailing CRLF\n\n  for (var i = 0, len = lines.length; i < len; ++i) {\n    line = lines[i];\n    index = line.indexOf(':');\n    field = line.slice(0, index).toLowerCase();\n    val = trim(line.slice(index + 1));\n    fields[field] = val;\n  }\n\n  return fields;\n}\n\n/**\n * Return the mime type for the given `str`.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nfunction type(str){\n  return str.split(/ *; */).shift();\n};\n\n/**\n * Return header field parameters.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction params(str){\n  return reduce(str.split(/ *; */), function(obj, str){\n    var parts = str.split(/ *= */)\n      , key = parts.shift()\n      , val = parts.shift();\n\n    if (key && val) obj[key] = val;\n    return obj;\n  }, {});\n};\n\n/**\n * Initialize a new `Response` with the given `xhr`.\n *\n *  - set flags (.ok, .error, etc)\n *  - parse header\n *\n * Examples:\n *\n *  Aliasing `superagent` as `request` is nice:\n *\n *      request = superagent;\n *\n *  We can use the promise-like API, or pass callbacks:\n *\n *      request.get('/').end(function(res){});\n *      request.get('/', function(res){});\n *\n *  Sending data can be chained:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' })\n *        .end(function(res){});\n *\n *  Or passed to `.send()`:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' }, function(res){});\n *\n *  Or passed to `.post()`:\n *\n *      request\n *        .post('/user', { name: 'tj' })\n *        .end(function(res){});\n *\n * Or further reduced to a single call for simple cases:\n *\n *      request\n *        .post('/user', { name: 'tj' }, function(res){});\n *\n * @param {XMLHTTPRequest} xhr\n * @param {Object} options\n * @api private\n */\n\nfunction Response(req, options) {\n  options = options || {};\n  this.req = req;\n  this.xhr = this.req.xhr;\n  // responseText is accessible only if responseType is '' or 'text' and on older browsers\n  this.text = ((this.req.method !='HEAD' && (this.xhr.responseType === '' || this.xhr.responseType === 'text')) || typeof this.xhr.responseType === 'undefined')\n     ? this.xhr.responseText\n     : null;\n  this.statusText = this.req.xhr.statusText;\n  this.setStatusProperties(this.xhr.status);\n  this.header = this.headers = parseHeader(this.xhr.getAllResponseHeaders());\n  // getAllResponseHeaders sometimes falsely returns \"\" for CORS requests, but\n  // getResponseHeader still works. so we get content-type even if getting\n  // other headers fails.\n  this.header['content-type'] = this.xhr.getResponseHeader('content-type');\n  this.setHeaderProperties(this.header);\n  this.body = this.req.method != 'HEAD'\n    ? this.parseBody(this.text ? this.text : this.xhr.response)\n    : null;\n}\n\n/**\n * Get case-insensitive `field` value.\n *\n * @param {String} field\n * @return {String}\n * @api public\n */\n\nResponse.prototype.get = function(field){\n  return this.header[field.toLowerCase()];\n};\n\n/**\n * Set header related properties:\n *\n *   - `.type` the content type without params\n *\n * A response of \"Content-Type: text/plain; charset=utf-8\"\n * will provide you with a `.type` of \"text/plain\".\n *\n * @param {Object} header\n * @api private\n */\n\nResponse.prototype.setHeaderProperties = function(header){\n  // content-type\n  var ct = this.header['content-type'] || '';\n  this.type = type(ct);\n\n  // params\n  var obj = params(ct);\n  for (var key in obj) this[key] = obj[key];\n};\n\n/**\n * Parse the given body `str`.\n *\n * Used for auto-parsing of bodies. Parsers\n * are defined on the `superagent.parse` object.\n *\n * @param {String} str\n * @return {Mixed}\n * @api private\n */\n\nResponse.prototype.parseBody = function(str){\n  var parse = request.parse[this.type];\n  return parse && str && (str.length || str instanceof Object)\n    ? parse(str)\n    : null;\n};\n\n/**\n * Set flags such as `.ok` based on `status`.\n *\n * For example a 2xx response will give you a `.ok` of __true__\n * whereas 5xx will be __false__ and `.error` will be __true__. The\n * `.clientError` and `.serverError` are also available to be more\n * specific, and `.statusType` is the class of error ranging from 1..5\n * sometimes useful for mapping respond colors etc.\n *\n * \"sugar\" properties are also defined for common cases. Currently providing:\n *\n *   - .noContent\n *   - .badRequest\n *   - .unauthorized\n *   - .notAcceptable\n *   - .notFound\n *\n * @param {Number} status\n * @api private\n */\n\nResponse.prototype.setStatusProperties = function(status){\n  // handle IE9 bug: http://stackoverflow.com/questions/10046972/msie-returns-status-code-of-1223-for-ajax-request\n  if (status === 1223) {\n    status = 204;\n  }\n\n  var type = status / 100 | 0;\n\n  // status / class\n  this.status = status;\n  this.statusType = type;\n\n  // basics\n  this.info = 1 == type;\n  this.ok = 2 == type;\n  this.clientError = 4 == type;\n  this.serverError = 5 == type;\n  this.error = (4 == type || 5 == type)\n    ? this.toError()\n    : false;\n\n  // sugar\n  this.accepted = 202 == status;\n  this.noContent = 204 == status;\n  this.badRequest = 400 == status;\n  this.unauthorized = 401 == status;\n  this.notAcceptable = 406 == status;\n  this.notFound = 404 == status;\n  this.forbidden = 403 == status;\n};\n\n/**\n * Return an `Error` representative of this response.\n *\n * @return {Error}\n * @api public\n */\n\nResponse.prototype.toError = function(){\n  var req = this.req;\n  var method = req.method;\n  var url = req.url;\n\n  var msg = 'cannot ' + method + ' ' + url + ' (' + this.status + ')';\n  var err = new Error(msg);\n  err.status = this.status;\n  err.method = method;\n  err.url = url;\n\n  return err;\n};\n\n/**\n * Expose `Response`.\n */\n\nrequest.Response = Response;\n\n/**\n * Initialize a new `Request` with the given `method` and `url`.\n *\n * @param {String} method\n * @param {String} url\n * @api public\n */\n\nfunction Request(method, url) {\n  var self = this;\n  Emitter.call(this);\n  this._query = this._query || [];\n  this.method = method;\n  this.url = url;\n  this.header = {};\n  this._header = {};\n  this.on('end', function(){\n    var err = null;\n    var res = null;\n\n    try {\n      res = new Response(self);\n    } catch(e) {\n      err = new Error('Parser is unable to parse the response');\n      err.parse = true;\n      err.original = e;\n      return self.callback(err);\n    }\n\n    self.emit('response', res);\n\n    if (err) {\n      return self.callback(err, res);\n    }\n\n    if (res.status >= 200 && res.status < 300) {\n      return self.callback(err, res);\n    }\n\n    var new_err = new Error(res.statusText || 'Unsuccessful HTTP response');\n    new_err.original = err;\n    new_err.response = res;\n    new_err.status = res.status;\n\n    self.callback(new_err, res);\n  });\n}\n\n/**\n * Mixin `Emitter`.\n */\n\nEmitter(Request.prototype);\n\n/**\n * Allow for extension\n */\n\nRequest.prototype.use = function(fn) {\n  fn(this);\n  return this;\n}\n\n/**\n * Set timeout to `ms`.\n *\n * @param {Number} ms\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.timeout = function(ms){\n  this._timeout = ms;\n  return this;\n};\n\n/**\n * Clear previous timeout.\n *\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.clearTimeout = function(){\n  this._timeout = 0;\n  clearTimeout(this._timer);\n  return this;\n};\n\n/**\n * Abort the request, and clear potential timeout.\n *\n * @return {Request}\n * @api public\n */\n\nRequest.prototype.abort = function(){\n  if (this.aborted) return;\n  this.aborted = true;\n  this.xhr.abort();\n  this.clearTimeout();\n  this.emit('abort');\n  return this;\n};\n\n/**\n * Set header `field` to `val`, or multiple fields with one object.\n *\n * Examples:\n *\n *      req.get('/')\n *        .set('Accept', 'application/json')\n *        .set('X-API-Key', 'foobar')\n *        .end(callback);\n *\n *      req.get('/')\n *        .set({ Accept: 'application/json', 'X-API-Key': 'foobar' })\n *        .end(callback);\n *\n * @param {String|Object} field\n * @param {String} val\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.set = function(field, val){\n  if (isObject(field)) {\n    for (var key in field) {\n      this.set(key, field[key]);\n    }\n    return this;\n  }\n  this._header[field.toLowerCase()] = val;\n  this.header[field] = val;\n  return this;\n};\n\n/**\n * Remove header `field`.\n *\n * Example:\n *\n *      req.get('/')\n *        .unset('User-Agent')\n *        .end(callback);\n *\n * @param {String} field\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.unset = function(field){\n  delete this._header[field.toLowerCase()];\n  delete this.header[field];\n  return this;\n};\n\n/**\n * Get case-insensitive header `field` value.\n *\n * @param {String} field\n * @return {String}\n * @api private\n */\n\nRequest.prototype.getHeader = function(field){\n  return this._header[field.toLowerCase()];\n};\n\n/**\n * Set Content-Type to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.xml = 'application/xml';\n *\n *      request.post('/')\n *        .type('xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n *      request.post('/')\n *        .type('application/xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n * @param {String} type\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.type = function(type){\n  this.set('Content-Type', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set Accept to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.json = 'application/json';\n *\n *      request.get('/agent')\n *        .accept('json')\n *        .end(callback);\n *\n *      request.get('/agent')\n *        .accept('application/json')\n *        .end(callback);\n *\n * @param {String} accept\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.accept = function(type){\n  this.set('Accept', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set Authorization field value with `user` and `pass`.\n *\n * @param {String} user\n * @param {String} pass\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.auth = function(user, pass){\n  var str = btoa(user + ':' + pass);\n  this.set('Authorization', 'Basic ' + str);\n  return this;\n};\n\n/**\n* Add query-string `val`.\n*\n* Examples:\n*\n*   request.get('/shoes')\n*     .query('size=10')\n*     .query({ color: 'blue' })\n*\n* @param {Object|String} val\n* @return {Request} for chaining\n* @api public\n*/\n\nRequest.prototype.query = function(val){\n  if ('string' != typeof val) val = serialize(val);\n  if (val) this._query.push(val);\n  return this;\n};\n\n/**\n * Write the field `name` and `val` for \"multipart/form-data\"\n * request bodies.\n *\n * ``` js\n * request.post('/upload')\n *   .field('foo', 'bar')\n *   .end(callback);\n * ```\n *\n * @param {String} name\n * @param {String|Blob|File} val\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.field = function(name, val){\n  if (!this._formData) this._formData = new root.FormData();\n  this._formData.append(name, val);\n  return this;\n};\n\n/**\n * Queue the given `file` as an attachment to the specified `field`,\n * with optional `filename`.\n *\n * ``` js\n * request.post('/upload')\n *   .attach(new Blob(['<a id=\"a\"><b id=\"b\">hey!</b></a>'], { type: \"text/html\"}))\n *   .end(callback);\n * ```\n *\n * @param {String} field\n * @param {Blob|File} file\n * @param {String} filename\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.attach = function(field, file, filename){\n  if (!this._formData) this._formData = new root.FormData();\n  this._formData.append(field, file, filename);\n  return this;\n};\n\n/**\n * Send `data`, defaulting the `.type()` to \"json\" when\n * an object is given.\n *\n * Examples:\n *\n *       // querystring\n *       request.get('/search')\n *         .end(callback)\n *\n *       // multiple data \"writes\"\n *       request.get('/search')\n *         .send({ search: 'query' })\n *         .send({ range: '1..5' })\n *         .send({ order: 'desc' })\n *         .end(callback)\n *\n *       // manual json\n *       request.post('/user')\n *         .type('json')\n *         .send('{\"name\":\"tj\"})\n *         .end(callback)\n *\n *       // auto json\n *       request.post('/user')\n *         .send({ name: 'tj' })\n *         .end(callback)\n *\n *       // manual x-www-form-urlencoded\n *       request.post('/user')\n *         .type('form')\n *         .send('name=tj')\n *         .end(callback)\n *\n *       // auto x-www-form-urlencoded\n *       request.post('/user')\n *         .type('form')\n *         .send({ name: 'tj' })\n *         .end(callback)\n *\n *       // defaults to x-www-form-urlencoded\n  *      request.post('/user')\n  *        .send('name=tobi')\n  *        .send('species=ferret')\n  *        .end(callback)\n *\n * @param {String|Object} data\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.send = function(data){\n  var obj = isObject(data);\n  var type = this.getHeader('Content-Type');\n\n  // merge\n  if (obj && isObject(this._data)) {\n    for (var key in data) {\n      this._data[key] = data[key];\n    }\n  } else if ('string' == typeof data) {\n    if (!type) this.type('form');\n    type = this.getHeader('Content-Type');\n    if ('application/x-www-form-urlencoded' == type) {\n      this._data = this._data\n        ? this._data + '&' + data\n        : data;\n    } else {\n      this._data = (this._data || '') + data;\n    }\n  } else {\n    this._data = data;\n  }\n\n  if (!obj || isHost(data)) return this;\n  if (!type) this.type('json');\n  return this;\n};\n\n/**\n * Invoke the callback with `err` and `res`\n * and handle arity check.\n *\n * @param {Error} err\n * @param {Response} res\n * @api private\n */\n\nRequest.prototype.callback = function(err, res){\n  var fn = this._callback;\n  this.clearTimeout();\n  fn(err, res);\n};\n\n/**\n * Invoke callback with x-domain error.\n *\n * @api private\n */\n\nRequest.prototype.crossDomainError = function(){\n  var err = new Error('Origin is not allowed by Access-Control-Allow-Origin');\n  err.crossDomain = true;\n  this.callback(err);\n};\n\n/**\n * Invoke callback with timeout error.\n *\n * @api private\n */\n\nRequest.prototype.timeoutError = function(){\n  var timeout = this._timeout;\n  var err = new Error('timeout of ' + timeout + 'ms exceeded');\n  err.timeout = timeout;\n  this.callback(err);\n};\n\n/**\n * Enable transmission of cookies with x-domain requests.\n *\n * Note that for this to work the origin must not be\n * using \"Access-Control-Allow-Origin\" with a wildcard,\n * and also must set \"Access-Control-Allow-Credentials\"\n * to \"true\".\n *\n * @api public\n */\n\nRequest.prototype.withCredentials = function(){\n  this._withCredentials = true;\n  return this;\n};\n\n/**\n * Initiate request, invoking callback `fn(res)`\n * with an instanceof `Response`.\n *\n * @param {Function} fn\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.end = function(fn){\n  var self = this;\n  var xhr = this.xhr = request.getXHR();\n  var query = this._query.join('&');\n  var timeout = this._timeout;\n  var data = this._formData || this._data;\n\n  // store callback\n  this._callback = fn || noop;\n\n  // state change\n  xhr.onreadystatechange = function(){\n    if (4 != xhr.readyState) return;\n\n    // In IE9, reads to any property (e.g. status) off of an aborted XHR will\n    // result in the error \"Could not complete the operation due to error c00c023f\"\n    var status;\n    try { status = xhr.status } catch(e) { status = 0; }\n\n    if (0 == status) {\n      if (self.timedout) return self.timeoutError();\n      if (self.aborted) return;\n      return self.crossDomainError();\n    }\n    self.emit('end');\n  };\n\n  // progress\n  var handleProgress = function(e){\n    if (e.total > 0) {\n      e.percent = e.loaded / e.total * 100;\n    }\n    self.emit('progress', e);\n  };\n  if (this.hasListeners('progress')) {\n    xhr.onprogress = handleProgress;\n  }\n  try {\n    if (xhr.upload && this.hasListeners('progress')) {\n      xhr.upload.onprogress = handleProgress;\n    }\n  } catch(e) {\n    // Accessing xhr.upload fails in IE from a web worker, so just pretend it doesn't exist.\n    // Reported here:\n    // https://connect.microsoft.com/IE/feedback/details/837245/xmlhttprequest-upload-throws-invalid-argument-when-used-from-web-worker-context\n  }\n\n  // timeout\n  if (timeout && !this._timer) {\n    this._timer = setTimeout(function(){\n      self.timedout = true;\n      self.abort();\n    }, timeout);\n  }\n\n  // querystring\n  if (query) {\n    query = request.serializeObject(query);\n    this.url += ~this.url.indexOf('?')\n      ? '&' + query\n      : '?' + query;\n  }\n\n  // initiate request\n  xhr.open(this.method, this.url, true);\n\n  // CORS\n  if (this._withCredentials) xhr.withCredentials = true;\n\n  // body\n  if ('GET' != this.method && 'HEAD' != this.method && 'string' != typeof data && !isHost(data)) {\n    // serialize stuff\n    var contentType = this.getHeader('Content-Type');\n    var serialize = request.serialize[contentType ? contentType.split(';')[0] : ''];\n    if (serialize) data = serialize(data);\n  }\n\n  // set header fields\n  for (var field in this.header) {\n    if (null == this.header[field]) continue;\n    xhr.setRequestHeader(field, this.header[field]);\n  }\n\n  // send stuff\n  this.emit('request', this);\n  xhr.send(data);\n  return this;\n};\n\n/**\n * Faux promise support\n *\n * @param {Function} fulfill\n * @param {Function} reject\n * @return {Request}\n */\n\nRequest.prototype.then = function (fulfill, reject) {\n  return this.end(function(err, res) {\n    err ? reject(err) : fulfill(res);\n  });\n}\n\n/**\n * Expose `Request`.\n */\n\nrequest.Request = Request;\n\n/**\n * Issue a request:\n *\n * Examples:\n *\n *    request('GET', '/users').end(callback)\n *    request('/users').end(callback)\n *    request('/users', callback)\n *\n * @param {String} method\n * @param {String|Function} url or callback\n * @return {Request}\n * @api public\n */\n\nfunction request(method, url) {\n  // callback\n  if ('function' == typeof url) {\n    return new Request('GET', method).end(url);\n  }\n\n  // url first\n  if (1 == arguments.length) {\n    return new Request('GET', method);\n  }\n\n  return new Request(method, url);\n}\n\n/**\n * GET `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} data or fn\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.get = function(url, data, fn){\n  var req = request('GET', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.query(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * HEAD `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} data or fn\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.head = function(url, data, fn){\n  var req = request('HEAD', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * DELETE `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.del = function(url, fn){\n  var req = request('DELETE', url);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * PATCH `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} data\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.patch = function(url, data, fn){\n  var req = request('PATCH', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * POST `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} data\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.post = function(url, data, fn){\n  var req = request('POST', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * PUT `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} data or fn\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.put = function(url, data, fn){\n  var req = request('PUT', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * Expose `request`.\n */\n\nmodule.exports = request;\n\n},{\"emitter\":2,\"reduce\":3}],2:[function(require,module,exports){\n\n/**\n * Expose `Emitter`.\n */\n\nmodule.exports = Emitter;\n\n/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nfunction Emitter(obj) {\n  if (obj) return mixin(obj);\n};\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks[event] = this._callbacks[event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  var self = this;\n  this._callbacks = this._callbacks || {};\n\n  function on() {\n    self.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks[event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks[event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n  var args = [].slice.call(arguments, 1)\n    , callbacks = this._callbacks[event];\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks[event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n\n},{}],3:[function(require,module,exports){\n\n/**\n * Reduce `arr` with `fn`.\n *\n * @param {Array} arr\n * @param {Function} fn\n * @param {Mixed} initial\n *\n * TODO: combatible error handling?\n */\n\nmodule.exports = function(arr, fn, initial){  \n  var idx = 0;\n  var len = arr.length;\n  var curr = arguments.length == 3\n    ? initial\n    : arr[idx++];\n\n  while (idx < len) {\n    curr = fn.call(null, curr, arr[idx], ++idx, arr);\n  }\n  \n  return curr;\n};\n},{}],4:[function(require,module,exports){\nvar RetroAchievements, request;\n\nrequest = require(\"superagent\");\n\nRetroAchievements = (function() {\n  RetroAchievements.baseUrl = \"http://retroachievements.org/API/\";\n\n  function RetroAchievements(user1, apiKey) {\n    this.user = user1;\n    this.apiKey = apiKey;\n  }\n\n  RetroAchievements.prototype.api = function(path, params, callback) {\n    if (params == null) {\n      params = {};\n    }\n    params[\"z\"] = this.user;\n    params[\"y\"] = this.apiKey;\n    return request.get(RetroAchievements.baseUrl + path).query(params).type(\"application/json\").accept(\"application/json\").end(function(err, res) {\n      return callback(err, JSON.parse(res.text || {}));\n    });\n  };\n\n  RetroAchievements.prototype.topTenUsers = function(callback) {\n    return this.api(\"API_GetTopTenUsers.php\", null, callback);\n  };\n\n  RetroAchievements.prototype.consoles = function(callback) {\n    return this.api(\"API_GetConsoleIDs.php\", null, callback);\n  };\n\n  RetroAchievements.prototype.gameList = function(console, callback) {\n    return this.api(\"API_GetGameList.php\", {\n      i: console\n    }, callback);\n  };\n\n  RetroAchievements.prototype.gameInfo = function(game, callback) {\n    return this.api(\"API_GetGame.php\", {\n      i: game\n    }, callback);\n  };\n\n  RetroAchievements.prototype.gameInfoExtended = function(game, callback) {\n    return this.api(\"API_GetGameExtended.php\", {\n      i: game\n    }, callback);\n  };\n\n  RetroAchievements.prototype.gameInfoAndUserProgress = function(user, game, callback) {\n    return this.api(\"API_GetGameInfoAndUserProgress.php\", {\n      u: user,\n      g: game\n    }, callback);\n  };\n\n  RetroAchievements.prototype.userRankAndScore = function(user, callback) {\n    return this.api(\"API_GetUserRankAndScore.php\", {\n      u: user\n    }, callback);\n  };\n\n  RetroAchievements.prototype.userRecentlyPlayedGames = function(user, count, offset, callback) {\n    if (offset == null) {\n      offset = 0;\n    }\n    return this.api(\"API_GetUserRecentlyPlayedGames.php\", {\n      u: user,\n      c: count,\n      o: offset\n    }, callback);\n  };\n\n  RetroAchievements.prototype.userProgress = function(user, games, callback) {\n    if (games instanceof Array) {\n      games = games.join(\",\");\n    }\n    return this.api(\"API_GetUserProgress.php\", {\n      u: user,\n      i: games\n    }, callback);\n  };\n\n  RetroAchievements.prototype.userSummary = function(user, recentGames, callback) {\n    return this.api(\"API_GetUserSummary.php\", {\n      u: user,\n      i: recentGames,\n      a: 5\n    }, callback);\n  };\n\n  RetroAchievements.prototype.feedFor = function(user, recentActivities, callback) {\n    return this.api(\"API_GetFeed.php\", {\n      u: user,\n      i: recentActivities\n    }, callback);\n  };\n\n  RetroAchievements.prototype.achievementsEarnedOnDay = function(user, date, callback) {\n    return this.api(\"API_GetAchievementsEarnedOnDay.php\", {\n      u: user,\n      d: date\n    }, callback);\n  };\n\n  RetroAchievements.prototype.achievementsEarnedBetween = function(user, start, end, callback) {\n    if (start instanceof Date) {\n      start = Math.floor(start.getTime() / 1000);\n    }\n    if (end instanceof Date) {\n      end = Math.floor(end.getTime() / 1000);\n    }\n    return this.api(\"API_GetAchievementsEarnedBetween.php\", {\n      u: user,\n      f: start,\n      t: end\n    }, callback);\n  };\n\n  return RetroAchievements;\n\n})();\n\nmodule.exports = RetroAchievements;\n\n\n},{\"superagent\":1}]},{},[4]);\n"],"sourceRoot":"/source/"}